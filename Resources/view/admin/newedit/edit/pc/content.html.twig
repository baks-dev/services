{% trans_default_domain('service.admin') %}

<div class="modal-dialog modal-dialog-centered" style="max-width: 700px;">
    {{ form_start(form) }}
    <div class="modal-content p-3 border-bottom border-5 border-primary">
        <div class="modal-header">

            <h5 class="modal-title">
                {# Заголовок модального окна #}
                {{ 'page.edit'|trans }}
            </h5>

            <button type="button" class="btn-close" data-bs-dismiss="modal" title="Close"></button>
        </div>

        <div class="modal-body">


            {{ form_row(form.info) }}
            {{ form_row(form.price) }}

            {# Слоты #}

            <div class="card-header border-light bg-body">
                <div class="card-title">
                    <h4>
                        {# Слоты #}
                        Слоты
                    </h4>
                </div>
            </div>

            <div class="card-body pb-0" id="collection-period">
                {% for period_count, form in form.period %}
                    <div class='mb-3' id='item_{{ form.vars.id }}'>
                        {{ include(_self|replace({ "content.html.twig": "/period/_period.html.twig" })) }}
                    </div>
                {% endfor %}
            </div>

            <div class="card-footer border-light bg-body d-flex justify-content-between align-items-center">
                <button
                        type="button"
                        id="periodAddCollection"
                        class="btn btn-sm btn-outline-primary border-0 period-add-collection"
                        data-prototype="{{ include(_self|replace({ "content.html.twig": "period/_period.prototype.html.twig" }))|e('html_attr') }}"

                        data-collection="{{ form.period.vars.id }}-collection"
                        data-index="{{ form.period.count }}"
                        data-period="{{ form.period.vars.name }}"
                >

                    <span class="svg-icon svg-icon-2">
							<svg xmlns="http://www.w3.org/2000/svg"
                                 width="24"
                                 height="24"
                                 viewBox="0 0 24 24"
                                 fill="none">
								<rect opacity="0.5"
                                      x="11"
                                      y="18"
                                      width="12"
                                      height="2"
                                      rx="1"
                                      transform="rotate(-90 11 18)"
                                      fill="currentColor">
							</rect>
								<rect x="6" y="11" width="12" height="2" rx="1" fill="currentColor"></rect>
							</svg>
						</span>
                    Добавить еще диапазон
                </button>
            </div>

        </div>


        <div class="modal-footer">
            <div class="flex-grow-1">
                &nbsp;
            </div>
            <div class="d-flex gap-3">
                {# Отмена #}
                <button type="button" class="btn btn-light" data-bs-dismiss="modal">
                    {{ 'btn.cancel'|trans({}, 'core.btn') }}
                </button>

                {# Добавить #}
                {{ form_widget(form.service, { label: '
                    <span>'~ 'btn.edit'|trans({}, 'core.btn') ~'</span>
                    <span class="spinner-border spinner-border-sm vertical-middle d-none"></span>

                '}) }}
            </div>

        </div>

    </div>
    {{ form_end(form) }}
</div>