{# @var data \BaksDev\Services\Forms\AddToOrder\AddOrderServiceToOrderDTO #}

{% trans_default_domain('service.admin') %}

{% set data = form.vars.data %}

{% if data.allServices is empty %}

    <div class="w-100 mb-0 alert alert-warning" role="alert" style="min-width: 837px; max-width: 837px;">
        <div class="d-flex align-items-baseline gap-3">
            <div>
                <div class="icon rounded-circle bg-contain p-2 bg-primary text-white"
                     style="width: 10px; height: 10px;">
                    <span class="small">!</span>
                </div>
            </div>

            {{ 'form.empty'|trans }}
        </div>
    </div>

{% endif %}

{{ form_start(form,
    { attr: {
        class: (data.allServices is empty) ? 'd-none' : '',
        style: 'min-width: 837px; max-width: 837px;'
    } }
) }}

<div class="pe-auto border-bottom">

    <div class="d-flex align-items-center justify-content-start p-1">

        <button class="btn btn-secondary w-100"
                type="button" role="button"
                data-bs-dismiss="collapse">

                <span class="svg-icon svg-icon-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none">
                        <rect x="6" y="11" width="12" height="2" rx="1" fill="currentColor"></rect>
                    </svg>
                </span>

            Скрыть
        </button>
    </div>

    <div class="p-3">
        <div class="tab-content w-100">

            {{ include(_self|replace({ "content.html.twig": "form/services.html.twig" })) }}

        </div>
    </div>

    <div class="d-flex align-items-center justify-content-start p-2 border-top">

        <div class="flex-grow-1">
            &nbsp;
        </div>

        <div id="service_buttons" class="d-flex gap-3">

            {% if form.order_service_add is defined %}

                {{ form_widget(form.order_service_add, {
                    label: '
                        <span>'~ 'btn.add'|trans({}, 'core.btn') ~'</span>
                        <span class="spinner-border spinner-border-sm vertical-middle d-none"></span>',
                }) }}
            {% endif %}

        </div>

    </div>
</div>

{{ form_end(form) }}

